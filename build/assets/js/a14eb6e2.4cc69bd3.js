"use strict";(self.webpackChunkotter_shell=self.webpackChunkotter_shell||[]).push([[111],{3905:(e,a,n)=>{n.d(a,{Zo:()=>c,kt:()=>m});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=t.createContext({}),s=function(e){var a=t.useContext(d),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},c=function(e){var a=s(e.components);return t.createElement(d.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=s(n),m=r,g=p["".concat(d,".").concat(m)]||p[m]||u[m]||l;return n?t.createElement(g,i(i({ref:a},c),{},{components:n})):t.createElement(g,i({ref:a},c))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=p;var o={};for(var d in a)hasOwnProperty.call(a,d)&&(o[d]=a[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6712:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var t=n(7462),r=(n(7294),n(3905));const l={sidebar_position:16},i="Instalaci\xf3n/migraci\xf3n de aplicaciones web PHP",o={unversionedId:"Tasks/migracion_php",id:"Tasks/migracion_php",title:"Instalaci\xf3n/migraci\xf3n de aplicaciones web PHP",description:"Escenario",source:"@site/docs/Tasks/migracion_php.md",sourceDirName:"Tasks",slug:"/Tasks/migracion_php",permalink:"/docs/Tasks/migracion_php",draft:!1,editUrl:"https://github.com/belennazareth/ottershell/blob/main/docs/Tasks/migracion_php.md",tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16},sidebar:"tutorialSidebar",previous:{title:"Desplegando aplicaciones flask con apache2 + mod_wsgi",permalink:"/docs/Tasks/apache_wsgi"},next:{title:"Markdown Features",permalink:"/docs/Tasks/markdown-features"}},d={},s=[{value:"Escenario",id:"escenario",level:2},{value:"Instalaci\xf3n de un CMS PHP en mi servidor local",id:"instalaci\xf3n-de-un-cms-php-en-mi-servidor-local",level:3},{value:"Instalaci\xf3n de un CMS NextCloud",id:"instalaci\xf3n-de-un-cms-nextcloud",level:3},{value:"Migraci\xf3n a tu VPS",id:"migraci\xf3n-a-tu-vps",level:3},{value:"Entrega",id:"entrega",level:2},{value:"1. De la Tarea 1, entrega la configuraci\xf3n del virtualhost.",id:"1-de-la-tarea-1-entrega-la-configuraci\xf3n-del-virtualhost",level:3},{value:"2. De la Tarea 1, la configuraci\xf3n de resoluci\xf3n est\xe1tica.",id:"2-de-la-tarea-1-la-configuraci\xf3n-de-resoluci\xf3n-est\xe1tica",level:3},{value:"3. De la Tarea 1, una captura de pantalla donde se vea el acceso a la aplicaci\xf3n.",id:"3-de-la-tarea-1-una-captura-de-pantalla-donde-se-vea-el-acceso-a-la-aplicaci\xf3n",level:3},{value:"4. De la Tarea 1, indica que plugin has instalado.",id:"4-de-la-tarea-1-indica-que-plugin-has-instalado",level:3},{value:"5. De la Tarea 2, una captura de pantalla donde se vea el acceso a la aplicaci\xf3n.",id:"5-de-la-tarea-2-una-captura-de-pantalla-donde-se-vea-el-acceso-a-la-aplicaci\xf3n",level:3},{value:"6. De la Tarea 3, documenta de la forma m\xe1s precisa posible cada uno de los pasos que has dado para migrar una de las dos aplicaciones.",id:"6-de-la-tarea-3-documenta-de-la-forma-m\xe1s-precisa-posible-cada-uno-de-los-pasos-que-has-dado-para-migrar-una-de-las-dos-aplicaciones",level:3},{value:"7. De la Tarea 3, las URL de acceso a las aplicaciones.",id:"7-de-la-tarea-3-las-url-de-acceso-a-las-aplicaciones",level:3},{value:"8. Capturas de pantalla donde se demuestre que esta funcionando el cliente de NextCloud.",id:"8-capturas-de-pantalla-donde-se-demuestre-que-esta-funcionando-el-cliente-de-nextcloud",level:3}],c={toc:s};function u(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"instalaci\xf3nmigraci\xf3n-de-aplicaciones-web-php"},"Instalaci\xf3n/migraci\xf3n de aplicaciones web PHP"),(0,r.kt)("h2",{id:"escenario"},"Escenario"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Crea un escenario con vagrant o kvm con las siguiente caracter\xedsticas:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Dos m\xe1quinas virtuales que se llamen servidor_web_tunombre y servidor_bd_tunombre."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"La m\xe1quina servidor_web_tunombre estar\xe1 conectada una red p\xfablica."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Las dos m\xe1quinas est\xe1n conectadas entre si por una red muy aislada.")))),(0,r.kt)("p",null,"Se ha creado un escenario con vagrant de tal manera que queda de la siguiente manera el fichero ",(0,r.kt)("inlineCode",{parentName:"p"},"Vagrantfile"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'Vagrant.configure("2") do |config|\n\n    config.vm.define :web do |web|\n      web.vm.box = "debian/bullseye64"\n      web.vm.hostname = "servidor-web-nazareth"\n      web.vm.synced_folder ".", "/vagrant", disabled: true\n\n    web.vm.network :private_network,\n      :libvirt__dhcp_enabled => false,\n      :ip => "10.0.0.2"\n\n    web.vm.network :public_network,\n      :dev => "virbr0",\n      :mode => "bridge",\n      :type => "bridge"\n\n    web.vm.network :private_network,\n      :libvirt__network_name => "red1",\n      :libvirt__dhcp_enabled => false,\n      :ip => "192.168.0.10",\n      :libvirt__forward_mode => "veryisolated"\n    end\n\n##################################################################\n\n    config.vm.define :bd do |bd|\n      bd.vm.box = "generic/ubuntu2010"\n      bd.vm.hostname = "servidor-bd-nazareth"\n      bd.vm.synced_folder ".", "/vagrant", disabled: true\n\n    bd.vm.network :private_network,\n      :libvirt__dhcp_enabled => false,\n      :ip => "10.0.0.4"\n\n    bd.vm.network :public_network,\n      :dev => "virbr0",\n      :mode => "bridge",\n      :type => "bridge"\n\n    bd.vm.network :private_network,\n      :libvirt__network_name => "red1",\n      :libvirt__dhcp_enabled => false,\n      :ip => "192.168.0.11",\n      :libvirt__forward_mode => "veryisolated"\n    end\n\nend\n')),(0,r.kt)("h3",{id:"instalaci\xf3n-de-un-cms-php-en-mi-servidor-local"},"Instalaci\xf3n de un CMS PHP en mi servidor local"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Selecciona un CMS escrito en PHP para desplegarlo en nuestra infraestructura. No se puede elegir ni WordPress (que lo hemos visto en un v\xeddeo, ni NextCloud que lo instalaremos a continuaci\xf3n)."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Configura en la m\xe1quina servidor_web_tunombre un servidor web apache2 que ejecute PHP, con un VirtualHost, para que el CMS sea accesible desde la direcci\xf3n: ",(0,r.kt)("a",{parentName:"strong",href:"http://www.nombrealumno.org"},"www.nombrealumno.org"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Configura en la m\xe1quina servidor_bd_tunombre una base de datos. Crea un usuario con privilegios sobre la base de datos donde se van a guardar los datos del CMS. Configura la base de datos para que permita conexi\xf3n desde la otra m\xe1quina."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Descarga el CMS seleccionado y realiza la instalaci\xf3n."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Realiza una configuraci\xf3n m\xednima de la aplicaci\xf3n (Cambia la plantilla, crea alg\xfan contenido, \u2026)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Instala un m\xf3dulo para a\xf1adir alguna funcionalidad al CMS.")))),(0,r.kt)("h3",{id:"instalaci\xf3n-de-un-cms-nextcloud"},"Instalaci\xf3n de un CMS NextCloud"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Instala el CMS PHP NextCloud en otro host virtual con el que accedemos con el nombre cloud.nombrealumno.org."))),(0,r.kt)("h3",{id:"migraci\xf3n-a-tu-vps"},"Migraci\xf3n a tu VPS"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Configura en tu VPS un servidor LEMP."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Configura un registro DNS en tu servidor DNS de tipo CNAME para que el nombre www apunte al nombre de vuestro servidor."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Realiza la migraci\xf3n de tus aplicaciones web a tu VPS. La primera aplicaci\xf3n debe ser accesible desde la URL ",(0,r.kt)("a",{parentName:"strong",href:"http://www.tudominio.algo/portal"},"www.tudominio.algo/portal"),", y el NextCloud con la URL ",(0,r.kt)("a",{parentName:"strong",href:"http://www.tudominio.algo/cloud"},"www.tudominio.algo/cloud"),". \xbfCu\xe1ntos virtual hosts tendr\xe1s que configurar en el servidor web de tu VPS?"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Al acceder a ",(0,r.kt)("a",{parentName:"strong",href:"http://www.tudominio.algo"},"www.tudominio.algo")," se debe hacer una redirecci\xf3n a ",(0,r.kt)("a",{parentName:"strong",href:"http://www.tudominio.algo/portal"},"www.tudominio.algo/portal"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Instala en un ordenador el cliente de NextCloud y realiza la configuraci\xf3n adecuada para acceder a \u201ctu nube\u201d.")))),(0,r.kt)("h2",{id:"entrega"},"Entrega"),(0,r.kt)("h3",{id:"1-de-la-tarea-1-entrega-la-configuraci\xf3n-del-virtualhost"},"1. De la Tarea 1, entrega la configuraci\xf3n del virtualhost."),(0,r.kt)("h3",{id:"2-de-la-tarea-1-la-configuraci\xf3n-de-resoluci\xf3n-est\xe1tica"},"2. De la Tarea 1, la configuraci\xf3n de resoluci\xf3n est\xe1tica."),(0,r.kt)("h3",{id:"3-de-la-tarea-1-una-captura-de-pantalla-donde-se-vea-el-acceso-a-la-aplicaci\xf3n"},"3. De la Tarea 1, una captura de pantalla donde se vea el acceso a la aplicaci\xf3n."),(0,r.kt)("h3",{id:"4-de-la-tarea-1-indica-que-plugin-has-instalado"},"4. De la Tarea 1, indica que plugin has instalado."),(0,r.kt)("h3",{id:"5-de-la-tarea-2-una-captura-de-pantalla-donde-se-vea-el-acceso-a-la-aplicaci\xf3n"},"5. De la Tarea 2, una captura de pantalla donde se vea el acceso a la aplicaci\xf3n."),(0,r.kt)("h3",{id:"6-de-la-tarea-3-documenta-de-la-forma-m\xe1s-precisa-posible-cada-uno-de-los-pasos-que-has-dado-para-migrar-una-de-las-dos-aplicaciones"},"6. De la Tarea 3, documenta de la forma m\xe1s precisa posible cada uno de los pasos que has dado para migrar una de las dos aplicaciones."),(0,r.kt)("h3",{id:"7-de-la-tarea-3-las-url-de-acceso-a-las-aplicaciones"},"7. De la Tarea 3, las URL de acceso a las aplicaciones."),(0,r.kt)("h3",{id:"8-capturas-de-pantalla-donde-se-demuestre-que-esta-funcionando-el-cliente-de-nextcloud"},"8. Capturas de pantalla donde se demuestre que esta funcionando el cliente de NextCloud."))}u.isMDXComponent=!0}}]);