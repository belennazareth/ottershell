"use strict";(self.webpackChunkotter_shell=self.webpackChunkotter_shell||[]).push([[1385],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>p});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=o.createContext({}),d=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=d(e.components);return o.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=d(t),p=a,b=u["".concat(s,".").concat(p)]||u[p]||m[p]||r;return t?o.createElement(b,l(l({ref:n},c),{},{components:t})):o.createElement(b,l({ref:n},c))}));function p(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var d=2;d<r;d++)l[d]=t[d];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},9858:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var o=t(7462),a=(t(7294),t(3905));const r={sidebar_position:7},l="Ejercicios de manejo de m\xf3dulos",i={unversionedId:"Tasks/manejo_modulos",id:"Tasks/manejo_modulos",title:"Ejercicios de manejo de m\xf3dulos",description:"1. Comprueba los m\xf3dulos cargados en tu equipo.",source:"@site/docs/Tasks/manejo_modulos.md",sourceDirName:"Tasks",slug:"/Tasks/manejo_modulos",permalink:"/docs/Tasks/manejo_modulos",draft:!1,editUrl:"https://github.com/belennazareth/ottershell/blob/main/docs/Tasks/manejo_modulos.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Clonaci\xf3n e instant\xe1neas de m\xe1quinas virtuales",permalink:"/docs/Tasks/clonacion_instantanea"},next:{title:"Instalaci\xf3n de un servidor LAMP",permalink:"/docs/Tasks/servidor_lamp"}},s={},d=[],c={toc:d};function m(e){let{components:n,...r}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"ejercicios-de-manejo-de-m\xf3dulos"},"Ejercicios de manejo de m\xf3dulos"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Comprueba los m\xf3dulos cargados en tu equipo.")),(0,a.kt)("p",null,"Los m\xf3dulos del kernel se almacenan en el fichero ",(0,a.kt)("inlineCode",{parentName:"p"},"/lib/modules/[versi\xf3n]")," con la terminaci\xf3n ",(0,a.kt)("inlineCode",{parentName:"p"},".ko")," (kernel object), se pueden ver con el comando ",(0,a.kt)("inlineCode",{parentName:"p"}," ls -R /lib/modules/$(uname -r)"),", donde ",(0,a.kt)("inlineCode",{parentName:"p"},"uname -r")," hace la funci\xf3n de variable que nos muestra la versi\xf3n de kernel de nuestro sistema.\nSin embargo, para comprobar los m\xf3dulos ",(0,a.kt)("strong",{parentName:"p"},"cargados")," en el equipo podemos visualizar el fichero ",(0,a.kt)("inlineCode",{parentName:"p"},"/proc/modules")," (fichero que usa ",(0,a.kt)("inlineCode",{parentName:"p"},"lsmod"),") donde aparece la informaci\xf3n dividida en tres columnas:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Module: Muestra los nombres de los m\xf3dulos cargados."),(0,a.kt)("li",{parentName:"ul"},"Size: Muestra el tama\xf1o que ocupa cada m\xf3dulo."),(0,a.kt)("li",{parentName:"ul"},"Used: Indica si se est\xe1 usando un m\xf3dulo por otros m\xf3dulos.")),(0,a.kt)("p",null,"Adem\xe1s, podemos usar el comando ",(0,a.kt)("inlineCode",{parentName:"p"},"lsmod")," para ver todos los m\xf3dulos desde l\xednea de comando:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\nnazare@ThousandSunny:~$ lsmod\n\nModule                  Size  Used by\nctr                    16384  3\nccm                    20480  9\nrfcomm                 94208  4\nxt_CHECKSUM            16384  1\nxt_MASQUERADE          20480  3\nnft_chain_nat          16384  2\nnf_nat                 57344  2 nft_chain_nat,xt_MASQUERADE\nbridge                258048  0\nstp                    16384  1 bridge\nllc                    16384  2 bridge,stp\ncmac                   16384  3\nalgif_hash             16384  1\nalgif_skcipher         16384  1\naf_alg                 32768  6 algif_hash,algif_skcipher\nbnep                   28672  2\nbtusb                  65536  0\nbtrtl                  28672  1 btusb\nbtbcm                  20480  1 btusb\nbtintel                32768  1 btusb\nbluetooth             749568  33 btrtl,btintel,btbcm,bnep,btusb,rfcomm\n...\n")),(0,a.kt)("p",null,"Se puede filtrar la informaci\xf3n usando el comando ",(0,a.kt)("inlineCode",{parentName:"p"},"grep"),", con esto se consigue de forma m\xe1s eficiente un resultado m\xe1s espec\xedfico:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\nnazare@ThousandSunny:~$ lsmod | grep "bluetooth"\nbluetooth             749568  33 btrtl,btintel,btbcm,bnep,btusb,rfcomm\necdh_generic           16384  2 bluetooth\ncrc16                  16384  1 bluetooth\nlibaes                 16384  3 bluetooth,aesni_intel,aes_generic\nrfkill                 32768  8 bluetooth,ideapad_laptop,cfg80211\n\n')),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Cuenta el n\xfamero de m\xf3dulos disponibles en el n\xfacleo que est\xe1s usando.")),(0,a.kt)("p",null,"Para contar el n\xfamero de m\xf3dulos disponibles se usa el comando:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"find  /lib/modules/$(uname -r) -type f -iname '*.ko' | wc -l")),(0,a.kt)("p",null,"Con esto se ejecuta una b\xfasqueda con ",(0,a.kt)("inlineCode",{parentName:"p"},"find")," filtada por todos los terminados en ",(0,a.kt)("inlineCode",{parentName:"p"},".ko")," cont\xe1ndolo con ",(0,a.kt)("inlineCode",{parentName:"p"},"wc"),"."),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Conecta un l\xe1piz USB y observa la salida de la instrucci\xf3n sudo dmesg.")),(0,a.kt)("p",null,"Con el comando ",(0,a.kt)("inlineCode",{parentName:"p"},"sudo dmesg")," y el par\xe1metro ",(0,a.kt)("inlineCode",{parentName:"p"},"-w")," se puede ver de forma din\xe1mica los mensajes de diagn\xf3stico, como podemos ver en la siguiente imagen aparece la detecci\xf3n de un USB y toda la informaci\xf3n recopilada de las caracter\xedsticas del dispositivo USB:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(7043).Z,width:"946",height:"141"})),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Elimina el m\xf3dulo correspondiente a alg\xfan dispotivo no esencial y comprueba qu\xe9 ocurre. Vuelve a cargarlo.")),(0,a.kt)("p",null,"En mi caso he elegido el m\xf3dulo correspondiente al wifi, para poder saber la etiqueta del m\xf3dulo he realizado un ",(0,a.kt)("inlineCode",{parentName:"p"},"dmesg -wH")," obteniendo:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(6813).Z,width:"1082",height:"366"})),(0,a.kt)("p",null,"Para deshabilitar el m\xf3dulo wifi:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"sudo modprobe -r rtw88_8822ce")),(0,a.kt)("p",null,"Como podemos comprobar con el comando ",(0,a.kt)("inlineCode",{parentName:"p"},"dmesg")," se ha realizado correctamente:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(5756).Z,width:"1041",height:"99"})),(0,a.kt)("p",null,"Y aqu\xed lo comprobamos gr\xe1ficamente:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(4954).Z,width:"330",height:"307"})),(0,a.kt)("p",null,"A continuaci\xf3n, para volver a activarlo:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"sudo modprobe rtw88_8822ce")),(0,a.kt)("p",null,"La salida de ",(0,a.kt)("inlineCode",{parentName:"p"},"dmesg"),":"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(90).Z,width:"1102",height:"394"})),(0,a.kt)("p",null,"Activaci\xf3n y conexi\xf3n a la red wifi:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(8011).Z,width:"878",height:"188"})),(0,a.kt)("p",null,"Comprobaci\xf3n en el entorno gr\xe1fico:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Term",src:t(944).Z,width:"342",height:"364"})),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"Selecciona un m\xf3dulo que est\xe9 en uso en tu equipo y configura el arranque para que no se cargue autom\xe1ticamente.")),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},"Carga el m\xf3dulo loop, obt\xe9n informaci\xf3n de qu\xe9 es y para qu\xe9 sirve. Lista el contenido de /sys/modules/loop/parameters y configura el equipo para que se puedan cargar como m\xe1ximo 12 dispositvos loop la pr\xf3xima vez que se arranque.")))}m.isMDXComponent=!0},6813:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-2-95690a439f001ae76bde58ec92fe601a.png"},5756:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-3-554d1ae06f47301d1cf931dbf2ee5fb4.png"},4954:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-4-d65897d3a66b9061362458931f0b43bb.png"},90:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-5-090a3919f91016e9c890d2844df14e5f.png"},8011:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-6-431697c21174556624b81735e8b56d4f.png"},944:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-7-7f095299347a788f76c9564c6395ac0d.png"},7043:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/modulosASO-ace84f4f04028d4815ece83e0eeac091.png"}}]);