"use strict";(self.webpackChunkotter_shell=self.webpackChunkotter_shell||[]).push([[3051],{3905:(e,a,r)=>{r.d(a,{Zo:()=>p,kt:()=>m});var o=r(67294);function n(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function l(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?l(Object(r),!0).forEach((function(a){n(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function t(e,a){if(null==e)return{};var r,o,n=function(e,a){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),c=function(e){var a=o.useContext(s),r=a;return e&&(r="function"==typeof e?e(a):i(i({},a),e)),r},p=function(e){var a=c(e.components);return o.createElement(s.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},u=o.forwardRef((function(e,a){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,p=t(e,["components","mdxType","originalType","parentName"]),u=c(r),m=n,v=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return r?o.createElement(v,i(i({ref:a},p),{},{components:r})):o.createElement(v,i({ref:a},p))}));function m(e,a){var r=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var l=r.length,i=new Array(l);i[0]=u;var t={};for(var s in a)hasOwnProperty.call(a,s)&&(t[s]=a[s]);t.originalType=e,t.mdxType="string"==typeof e?e:n,i[1]=t;for(var c=2;c<l;c++)i[c]=r[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}u.displayName="MDXCreateElement"},30007:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var o=r(87462),n=(r(67294),r(3905));const l={sidebar_position:16},i="Cifrado asim\xe9trico con gpg y openssl",t={unversionedId:"Tasks/criptografia1",id:"Tasks/criptografia1",title:"Cifrado asim\xe9trico con gpg y openssl",description:"Cifrado asim\xe9trico con gpg",source:"@site/docs/Tasks/criptografia1.md",sourceDirName:"Tasks",slug:"/Tasks/criptografia1",permalink:"/docs/Tasks/criptografia1",draft:!1,editUrl:"https://github.com/belennazareth/ottershell/blob/main/docs/Tasks/criptografia1.md",tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16},sidebar:"tutorialSidebar",previous:{title:"Desplegando aplicaciones flask con apache2 + mod_wsgi",permalink:"/docs/Tasks/apache_wsgi"},next:{title:"Configuraci\xf3n de HTTPS en el VPS",permalink:"/docs/Tasks/https"}},s={},c=[{value:"Cifrado asim\xe9trico con gpg",id:"cifrado-asim\xe9trico-con-gpg",level:2},{value:"Tarea 1: Generaci\xf3n de claves",id:"tarea-1-generaci\xf3n-de-claves",level:3},{value:"1. Genera un par de claves (p\xfablica y privada). \xbfEn que directorio se guarda las claves de un usuario?",id:"1-genera-un-par-de-claves-p\xfablica-y-privada-en-que-directorio-se-guarda-las-claves-de-un-usuario",level:4},{value:"2. Lista las claves p\xfablicas que tienes en tu almac\xe9n de claves. Explica los distintos datos que nos muestra. \xbfC\xf3mo deber\xedas haber generado las claves para indicar, por ejemplo, que tenga un 1 mes de validez?",id:"2-lista-las-claves-p\xfablicas-que-tienes-en-tu-almac\xe9n-de-claves-explica-los-distintos-datos-que-nos-muestra-c\xf3mo-deber\xedas-haber-generado-las-claves-para-indicar-por-ejemplo-que-tenga-un-1-mes-de-validez",level:4},{value:"3. Lista las claves privadas de tu almac\xe9n de claves.",id:"3-lista-las-claves-privadas-de-tu-almac\xe9n-de-claves",level:4},{value:"Tarea 2: Importar / exportar clave p\xfablica",id:"tarea-2-importar--exportar-clave-p\xfablica",level:3},{value:"1. Exporta tu clave p\xfablica en formato ASCII y guardalo en un archivo nombre_apellido.asc y env\xedalo al compa\xf1ero con el que vas a hacer esta pr\xe1ctica.",id:"1-exporta-tu-clave-p\xfablica-en-formato-ascii-y-guardalo-en-un-archivo-nombre_apellidoasc-y-env\xedalo-al-compa\xf1ero-con-el-que-vas-a-hacer-esta-pr\xe1ctica",level:4},{value:"2. Importa las claves p\xfablicas recibidas de vuestro compa\xf1ero.",id:"2-importa-las-claves-p\xfablicas-recibidas-de-vuestro-compa\xf1ero",level:4},{value:"3. Comprueba que las claves se han incluido correctamente en vuestro keyring.",id:"3-comprueba-que-las-claves-se-han-incluido-correctamente-en-vuestro-keyring",level:4},{value:"Tarea 3: Cifrado asim\xe9trico con claves p\xfablicas",id:"tarea-3-cifrado-asim\xe9trico-con-claves-p\xfablicas",level:3},{value:"1. Cifraremos un archivo cualquiera y lo remitiremos por email a uno de nuestros compa\xf1eros que nos proporcion\xf3 su clave p\xfablica.",id:"1-cifraremos-un-archivo-cualquiera-y-lo-remitiremos-por-email-a-uno-de-nuestros-compa\xf1eros-que-nos-proporcion\xf3-su-clave-p\xfablica",level:4},{value:"2. Nuestro compa\xf1ero, a su vez, nos remitir\xe1 un archivo cifrado para que nosotros lo descifremos.",id:"2-nuestro-compa\xf1ero-a-su-vez-nos-remitir\xe1-un-archivo-cifrado-para-que-nosotros-lo-descifremos",level:4},{value:"3. Tanto nosotros como nuestro compa\xf1ero comprobaremos que hemos podido descifrar los mensajes recibidos respectivamente.",id:"3-tanto-nosotros-como-nuestro-compa\xf1ero-comprobaremos-que-hemos-podido-descifrar-los-mensajes-recibidos-respectivamente",level:4},{value:"4. Por \xfaltimo, enviaremos el documento cifrado a alguien que no estaba en la lista de destinatarios y comprobaremos que este usuario no podr\xe1 descifrar este archivo.",id:"4-por-\xfaltimo-enviaremos-el-documento-cifrado-a-alguien-que-no-estaba-en-la-lista-de-destinatarios-y-comprobaremos-que-este-usuario-no-podr\xe1-descifrar-este-archivo",level:4},{value:"5. Para terminar, indica los comandos necesarios para borrar las claves p\xfablicas y privadas que posees.",id:"5-para-terminar-indica-los-comandos-necesarios-para-borrar-las-claves-p\xfablicas-y-privadas-que-posees",level:4},{value:"Tarea 4: Exportar clave a un servidor p\xfablico de claves PGP",id:"tarea-4-exportar-clave-a-un-servidor-p\xfablico-de-claves-pgp",level:3},{value:"1. Genera la clave de revocaci\xf3n de tu clave p\xfablica para utilizarla en caso de que haya problemas.",id:"1-genera-la-clave-de-revocaci\xf3n-de-tu-clave-p\xfablica-para-utilizarla-en-caso-de-que-haya-problemas",level:4},{value:"2. Exporta tu clave p\xfablica al servidor pgp.rediris.es",id:"2-exporta-tu-clave-p\xfablica-al-servidor-pgpredirises",level:4},{value:"3. Borra la clave p\xfablica de alguno de tus compa\xf1eros de clase e imp\xf3rtala ahora del servidor p\xfablico de rediris.",id:"3-borra-la-clave-p\xfablica-de-alguno-de-tus-compa\xf1eros-de-clase-e-imp\xf3rtala-ahora-del-servidor-p\xfablico-de-rediris",level:4},{value:"Tarea 5: Cifrado asim\xe9trico con openssl",id:"tarea-5-cifrado-asim\xe9trico-con-openssl",level:3},{value:"1. Genera un par de claves (p\xfablica y privada).",id:"1-genera-un-par-de-claves-p\xfablica-y-privada",level:4},{value:"2. Env\xeda tu clave p\xfablica a un compa\xf1ero.",id:"2-env\xeda-tu-clave-p\xfablica-a-un-compa\xf1ero",level:4},{value:"3. Utilizando la clave p\xfablica cifra un fichero de texto y env\xedalo a tu compa\xf1ero.",id:"3-utilizando-la-clave-p\xfablica-cifra-un-fichero-de-texto-y-env\xedalo-a-tu-compa\xf1ero",level:4},{value:"4. Tu compa\xf1ero te ha mandado un fichero cifrado, muestra el proceso para el descifrado.",id:"4-tu-compa\xf1ero-te-ha-mandado-un-fichero-cifrado-muestra-el-proceso-para-el-descifrado",level:4}],p={toc:c};function d(e){let{components:a,...l}=e;return(0,n.kt)("wrapper",(0,o.Z)({},p,l,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"cifrado-asim\xe9trico-con-gpg-y-openssl"},"Cifrado asim\xe9trico con gpg y openssl"),(0,n.kt)("h2",{id:"cifrado-asim\xe9trico-con-gpg"},"Cifrado asim\xe9trico con gpg"),(0,n.kt)("h3",{id:"tarea-1-generaci\xf3n-de-claves"},"Tarea 1: Generaci\xf3n de claves"),(0,n.kt)("h4",{id:"1-genera-un-par-de-claves-p\xfablica-y-privada-en-que-directorio-se-guarda-las-claves-de-un-usuario"},"1. Genera un par de claves (p\xfablica y privada). \xbfEn que directorio se guarda las claves de un usuario?"),(0,n.kt)("p",null,"Para esto usaremos el comando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --gen-key\n")),(0,n.kt)("p",null,"Y se guarda en el fichero ",(0,n.kt)("inlineCode",{parentName:"p"},"/home/{usuario}/.gnupg"),"."),(0,n.kt)("h4",{id:"2-lista-las-claves-p\xfablicas-que-tienes-en-tu-almac\xe9n-de-claves-explica-los-distintos-datos-que-nos-muestra-c\xf3mo-deber\xedas-haber-generado-las-claves-para-indicar-por-ejemplo-que-tenga-un-1-mes-de-validez"},"2. Lista las claves p\xfablicas que tienes en tu almac\xe9n de claves. Explica los distintos datos que nos muestra. \xbfC\xf3mo deber\xedas haber generado las claves para indicar, por ejemplo, que tenga un 1 mes de validez?"),(0,n.kt)("p",null,"Para listar se usa:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --list-keys\n")),(0,n.kt)("p",null,"Con salida:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"nazare@ThousandSunny \ue0b0 ~$ gpg --list-keys\n\n/home/nazare/.gnupg/pubring.kbx\n-------------------------------\npub   rsa3072 2022-12-04 [SC] [caduca: 2024-12-03]\n      522E1EE9CC010A467AA2318919CFB634F516F12A\nuid        [  absoluta ] Belen Nazareth Duran <belennazareth29@gmail.com>\nsub   rsa3072 2022-12-04 [E] [caduca: 2024-12-03]\n")),(0,n.kt)("p",null,"Y vemos que usa el protocolo ",(0,n.kt)("inlineCode",{parentName:"p"},"rsa3072")," y que su fecha de caducidad es ",(0,n.kt)("inlineCode",{parentName:"p"},"2024-12-03"),", que se cre\xf3 el ",(0,n.kt)("inlineCode",{parentName:"p"},"2022-12-04"),", el nombre del fichero donde se ha guardado y los datos del propietario."),(0,n.kt)("p",null,"Para poder especificar los meses de caducidad se usa el comando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg \u2013full-generate-key\n")),(0,n.kt)("p",null,"Un ejemplo de salida ser\xeda:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"nazare@ThousandSunny \ue0b0 ~$ gpg --full-generate-key \n\ngpg (GnuPG) 2.2.27; Copyright (C) 2021 Free Software Foundation, Inc.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPor favor seleccione tipo de clave deseado:\n   (1) RSA y RSA (por defecto)\n   (2) DSA y ElGamal\n   (3) DSA (s\xf3lo firmar)\n   (4) RSA (s\xf3lo firmar)\n  (14) Existing key from card\nSu elecci\xf3n: 1\nlas claves RSA pueden tener entre 1024 y 4096 bits de longitud.\n\xbfDe qu\xe9 tama\xf1o quiere la clave? (3072) \nEl tama\xf1o requerido es de 3072 bits\nPor favor, especifique el per\xedodo de validez de la clave.\n         0 = la clave nunca caduca\n      <n>  = la clave caduca en n d\xedas\n      <n>w = la clave caduca en n semanas\n      <n>m = la clave caduca en n meses\n      <n>y = la clave caduca en n a\xf1os\n\xbfValidez de la clave (0)? 1m\nLa clave caduca mar 03 ene 2023 13:06:35 CET\n\xbfEs correcto? (s/n) \n\n")),(0,n.kt)("h4",{id:"3-lista-las-claves-privadas-de-tu-almac\xe9n-de-claves"},"3. Lista las claves privadas de tu almac\xe9n de claves."),(0,n.kt)("p",null,"Para listar las claves privadas:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --list-secret-keys\n")),(0,n.kt)("p",null,"Y, en mi caso, obtengo como respuesta:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"}," nazare@ThousandSunny \ue0b0 ~$ gpg --list-secret-keys\n\n/home/nazare/.gnupg/pubring.kbx\n-------------------------------\nsec   rsa3072 2022-12-04 [SC] [caduca: 2024-12-03]\n      522E1EE9CC010A467AA2318919CFB634F516F12A\nuid        [  absoluta ] Belen Nazareth Duran <belennazareth29@gmail.com>\nssb   rsa3072 2022-12-04 [E] [caduca: 2024-12-03]\n")),(0,n.kt)("h3",{id:"tarea-2-importar--exportar-clave-p\xfablica"},"Tarea 2: Importar / exportar clave p\xfablica"),(0,n.kt)("h4",{id:"1-exporta-tu-clave-p\xfablica-en-formato-ascii-y-guardalo-en-un-archivo-nombre_apellidoasc-y-env\xedalo-al-compa\xf1ero-con-el-que-vas-a-hacer-esta-pr\xe1ctica"},"1. Exporta tu clave p\xfablica en formato ASCII y guardalo en un archivo nombre_apellido.asc y env\xedalo al compa\xf1ero con el que vas a hacer esta pr\xe1ctica."),(0,n.kt)("p",null,"Para exportar la clave se ejecuta el siguiente comando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'gpg --export -a "Belen Nazareth Duran" > nazareth_duran.asc\n')),(0,n.kt)("p",null,"Y se la env\xedo a mi compa\xf1ero Rober."),(0,n.kt)("h4",{id:"2-importa-las-claves-p\xfablicas-recibidas-de-vuestro-compa\xf1ero"},"2. Importa las claves p\xfablicas recibidas de vuestro compa\xf1ero."),(0,n.kt)("p",null,"Importamos la clave ejecutando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --import roberto_rodriguez.asc\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(15329).Z,width:"1103",height:"147"})),(0,n.kt)("h4",{id:"3-comprueba-que-las-claves-se-han-incluido-correctamente-en-vuestro-keyring"},"3. Comprueba que las claves se han incluido correctamente en vuestro keyring."),(0,n.kt)("p",null,"Comprobamos que efectivamente se ha incluido:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --list-keys\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(59440).Z,width:"900",height:"354"})),(0,n.kt)("h3",{id:"tarea-3-cifrado-asim\xe9trico-con-claves-p\xfablicas"},"Tarea 3: Cifrado asim\xe9trico con claves p\xfablicas"),(0,n.kt)("h4",{id:"1-cifraremos-un-archivo-cualquiera-y-lo-remitiremos-por-email-a-uno-de-nuestros-compa\xf1eros-que-nos-proporcion\xf3-su-clave-p\xfablica"},"1. Cifraremos un archivo cualquiera y lo remitiremos por email a uno de nuestros compa\xf1eros que nos proporcion\xf3 su clave p\xfablica."),(0,n.kt)("p",null,"Creamos el fichero txt y lo encriptamos:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'echo "Ficherito encriptadito secreto secreto" > encriptadito.txt\n\ngpg -e -u "Belen Nazareth Duran" -r "Roberto Rodr\xedguez M\xe1rquez" encriptadito.txt \n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(48958).Z,width:"1234",height:"323"})),(0,n.kt)("h4",{id:"2-nuestro-compa\xf1ero-a-su-vez-nos-remitir\xe1-un-archivo-cifrado-para-que-nosotros-lo-descifremos"},"2. Nuestro compa\xf1ero, a su vez, nos remitir\xe1 un archivo cifrado para que nosotros lo descifremos."),(0,n.kt)("p",null,"Cuando recibamos el fichero usaremos el siguiente comando para descifrarlo:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg -d ficheroimportante.txt.gpg\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(90649).Z,width:"843",height:"141"})),(0,n.kt)("h4",{id:"3-tanto-nosotros-como-nuestro-compa\xf1ero-comprobaremos-que-hemos-podido-descifrar-los-mensajes-recibidos-respectivamente"},"3. Tanto nosotros como nuestro compa\xf1ero comprobaremos que hemos podido descifrar los mensajes recibidos respectivamente."),(0,n.kt)("p",null,"Para  comprobarlo  voy a meter la salida en un fichero txt:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg -d ficheroimportante.txt.gpg > ficheroimportante_descifrado.txt\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(62702).Z,width:"1053",height:"169"})),(0,n.kt)("h4",{id:"4-por-\xfaltimo-enviaremos-el-documento-cifrado-a-alguien-que-no-estaba-en-la-lista-de-destinatarios-y-comprobaremos-que-este-usuario-no-podr\xe1-descifrar-este-archivo"},"4. Por \xfaltimo, enviaremos el documento cifrado a alguien que no estaba en la lista de destinatarios y comprobaremos que este usuario no podr\xe1 descifrar este archivo."),(0,n.kt)("p",null,"En mi caso, le voy a mandar el documento a Pepin por scp que no est\xe1 en la lista para comprobar que no puede descifrar el archivo:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"pepin@debian:~$ gpg -d encriptadito.txt.gpg \n\ngpg: cifrado con clave RSA, ID A991F86EF11F1E74\ngpg: descifrado fallido: No secret key\n\n")),(0,n.kt)("h4",{id:"5-para-terminar-indica-los-comandos-necesarios-para-borrar-las-claves-p\xfablicas-y-privadas-que-posees"},"5. Para terminar, indica los comandos necesarios para borrar las claves p\xfablicas y privadas que posees."),(0,n.kt)("p",null,"Para esto solo es necesario ejecutar:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'gpg --delete-secret-and-public-keys "Belen Nazareth Duran"\n')),(0,n.kt)("h3",{id:"tarea-4-exportar-clave-a-un-servidor-p\xfablico-de-claves-pgp"},"Tarea 4: Exportar clave a un servidor p\xfablico de claves PGP"),(0,n.kt)("h4",{id:"1-genera-la-clave-de-revocaci\xf3n-de-tu-clave-p\xfablica-para-utilizarla-en-caso-de-que-haya-problemas"},"1. Genera la clave de revocaci\xf3n de tu clave p\xfablica para utilizarla en caso de que haya problemas."),(0,n.kt)("p",null,"Usaremos el comando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'gpg --gen-revoke "Belen Nazareth Duran" > revokedbn.key \n')),(0,n.kt)("p",null,"Obteniendo como salida:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"sec  rsa3072/19CFB634F516F12A 2022-12-04 Belen Nazareth Duran <belennazareth29@gmail.com>\n\n\xbfCrear un certificado de revocaci\xf3n para esta clave? (s/N) s\nPor favor elija una raz\xf3n para la revocaci\xf3n:\n  0 = No se dio ninguna raz\xf3n\n  1 = La clave ha sido comprometida\n  2 = La clave ha sido reemplazada\n  3 = La clave ya no est\xe1 en uso\n  Q = Cancelar\n(Probablemente quer\xeda seleccionar 1 aqu\xed)\n\xbfSu decisi\xf3n? 0\nIntroduzca una descripci\xf3n opcional; ac\xe1bela con una l\xednea vac\xeda:\n> Revocacion de mi clave\n> \nRaz\xf3n para la revocaci\xf3n: No se dio ninguna raz\xf3n\nRevocacion de mi clave\n\xbfEs correcto? (s/N) s\nse fuerza salida con armadura ASCII.\nCertificado de revocaci\xf3n creado.\n\nPor favor cons\xe9rvelo en un medio que pueda esconder; si alguien consigue\nacceso a este certificado puede usarlo para inutilizar su clave.\nEs inteligente imprimir este certificado y guardarlo en otro lugar, por\nsi acaso su medio resulta imposible de leer. Pero precauci\xf3n: \xa1el sistema\nde impresi\xf3n de su m\xe1quina podr\xeda almacenar los datos y hacerlos accesibles\na otras personas!\n")),(0,n.kt)("h4",{id:"2-exporta-tu-clave-p\xfablica-al-servidor-pgpredirises"},"2. Exporta tu clave p\xfablica al servidor pgp.rediris.es"),(0,n.kt)("p",null,"Como el servidor de rendiris no funciona correctamente he usado el de ",(0,n.kt)("a",{parentName:"p",href:"https://pgp.mit.edu/"},"mit"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"}," gpg --keyserver pgp.mit.edu --send-keys 522E1EE9CC010A467AA2318919CFB634F516F12A\n")),(0,n.kt)("p",null,"Obteniendo:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"nazare@ThousandSunny \ue0b0 ~$  gpg --keyserver pgp.mit.edu --send-keys 522E1EE9CC010A467AA2318919CFB634F516F12A \n\ngpg: enviando clave 19CFB634F516F12A a hkp://pgp.mit.edu\n")),(0,n.kt)("h4",{id:"3-borra-la-clave-p\xfablica-de-alguno-de-tus-compa\xf1eros-de-clase-e-imp\xf3rtala-ahora-del-servidor-p\xfablico-de-rediris"},"3. Borra la clave p\xfablica de alguno de tus compa\xf1eros de clase e imp\xf3rtala ahora del servidor p\xfablico de rediris."),(0,n.kt)("p",null,"Borramos la clave de Roberto:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'gpg --delete-keys "Roberto Rodr\xedguez M\xe1rquez" \n')),(0,n.kt)("p",null,"E importamos las claves:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"gpg --keyserver pgp.mit.edu --recv-keys 564EF4B761565E40\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(37114).Z,width:"1197",height:"125"})),(0,n.kt)("h3",{id:"tarea-5-cifrado-asim\xe9trico-con-openssl"},"Tarea 5: Cifrado asim\xe9trico con openssl"),(0,n.kt)("h4",{id:"1-genera-un-par-de-claves-p\xfablica-y-privada"},"1. Genera un par de claves (p\xfablica y privada)."),(0,n.kt)("p",null,"Para la clave privada:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"openssl genrsa -out clavesita.pem 2048\n")),(0,n.kt)("p",null,"Para la clave p\xfablica: "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"openssl rsa -in clavesita.pem -pubout -out clavesitapub.pem\n")),(0,n.kt)("h4",{id:"2-env\xeda-tu-clave-p\xfablica-a-un-compa\xf1ero"},"2. Env\xeda tu clave p\xfablica a un compa\xf1ero."),(0,n.kt)("p",null,"Le he enviado mi clave a Roberto por scp:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"scp clavesitapub.pem rober@ip\n")),(0,n.kt)("h4",{id:"3-utilizando-la-clave-p\xfablica-cifra-un-fichero-de-texto-y-env\xedalo-a-tu-compa\xf1ero"},"3. Utilizando la clave p\xfablica cifra un fichero de texto y env\xedalo a tu compa\xf1ero."),(0,n.kt)("p",null,"Creamos el fichero y lo encriptamos para enviarlo:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'echo "Ficherito encriptadito secreto secreto otra vez" > encriptadito_ossl.txt\n\nopenssl rsautl -pubin -encrypt -in encriptadito_ossl.txt -out encriptadito_ossl.enc -inkey clavepub.pem\n')),(0,n.kt)("h4",{id:"4-tu-compa\xf1ero-te-ha-mandado-un-fichero-cifrado-muestra-el-proceso-para-el-descifrado"},"4. Tu compa\xf1ero te ha mandado un fichero cifrado, muestra el proceso para el descifrado."),(0,n.kt)("p",null,"Para descrifrarlo hacemos el siguiente comando:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"openssl rsautl -decrypt -inkey ~/Escritorio/SAD/clavesita.pem -in openssl.enc -out openssl.txt\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Term",src:r(34691).Z,width:"1330",height:"103"})))}d.isMDXComponent=!0},59440:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-2-3d0509817353e104b146ea65598e327f.png"},48958:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-3-d2b96e28d1fefecdf461360138104fba.png"},90649:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-4-6eaf54d64ed3c19feb6e33742ec8c418.png"},62702:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-5-f1f089f52b9dbe203be655f06085891f.png"},37114:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-6-b23922ec56cfc6dd40064a71212d9758.png"},34691:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-7-6f4cd9916eccb3ba0849d9135b501f89.png"},15329:(e,a,r)=>{r.d(a,{Z:()=>o});const o=r.p+"assets/images/criptoSAD-7e2d58b8b412396bda13c72f85221434.png"}}]);